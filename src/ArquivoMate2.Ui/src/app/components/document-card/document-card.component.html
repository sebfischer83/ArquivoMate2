<div class="am-doc-card" [class.compact]="variant==='compact'" [class.mini]="variant==='mini'" (click)="onClick()" (keydown.enter)="onClick()" (keydown.space)="onClick(); $event.preventDefault()" tabindex="0" role="button" [attr.aria-label]="document.title || document.id">
  <div class="thumb" [class.placeholder]="!document.thumbnailPath">
    <div class="thumb-head">
      <div class="title" [title]="document.title || document.id">{{ document.title || document.id }}</div>
    </div>
  @if (document.thumbnailPath) { <img [ngSrc]="document.thumbnailPath!" width="160" height="200" alt="" loading="lazy" /> }
    @else { <span class="ph">Kein Vorschaubild</span> }
    @if (document.summary) {
      <div class="thumb-summary">
        <div class="summary-text" [title]="document.summary">{{ document.summary }}</div>
      </div>
    }
  </div>
  <div class="meta">
    <div class="status-line">
      @if (document.accepted) { <tui-icon class="icon-status accepted" icon="@tui.check" title="Accepted" aria-label="Accepted" /> }
      @if (document.encrypted) { <tui-icon class="icon-status encrypted" icon="@tui.lock" title="Verschlüsselt" aria-label="Verschlüsselt" /> }
  @if (document.uploadedAt) { <span class="uploaded" aria-label="Upload Datum">{{ document.uploadedAt | localeDate:'short' }}</span> }
      @if (document.type) { <span class="type" aria-label="Dokumenttyp">{{ document.type }}</span> }
    </div>
    @if (document.sender?.displayName) {
      <div class="sender" [title]="document.sender?.displayName">{{ document.sender?.displayName }}</div>
    }
  </div>
</div>
